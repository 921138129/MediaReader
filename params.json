{"name":"MediaCapture Reader","tagline":"Reads audio/video media samples from cameras and microphone using MediaCapture","body":"[![Build status](https://ci.appveyor.com/api/projects/status/ix4eud7pf2w9p0gt?svg=true)](https://ci.appveyor.com/project/mmaitre314/mediacapturereader)\r\n[![NuGet package](http://mmaitre314.github.io/images/nuget.png)](https://www.nuget.org/packages/MMaitre.MediaCaptureReader/)\r\n\r\nReads audio/video samples from cameras and microphone using MediaCapture. Store apps targeting either Windows or Windows Phone are supported. A NuGet package is available [here](http://www.nuget.org/packages/MMaitre.MediaCaptureReader/).\r\n\r\nThe following code snippet reads a video sample in Bgra8 format from the default camera:\r\n\r\n```c#\r\n# Create MediaCapture\r\nvar capture = new MediaCapture();\r\nawait capture.InitializeAsync();\r\n\r\n# Create a Bgra8 video format matching the camera resolution and framerate\r\nvar previewProps = (VideoEncodingProperties)capture.VideoDeviceController.GetMediaStreamProperties(MediaStreamType.VideoPreview);\r\nvar readerProps = VideoEncodingProperties.CreateUncompressed(MediaEncodingSubtypes.Bgra8, previewProps.Width, previewProps.Height);\r\nreaderProps.FrameRate.Numerator = previewProps.FrameRate.Numerator;\r\nreaderProps.FrameRate.Denominator = previewProps.FrameRate.Denominator;\r\n\r\n# Create CaptureReader and get a video sample\r\nvar captureReader = await CaptureReader.CreateAsync(\r\n    capture, \r\n    new MediaEncodingProfile\r\n    {\r\n        Video = readerProps\r\n    });\r\nMediaSample sample = await captureReader.GetVideoSampleAsync();\r\n```\r\n\r\nThe component also provides methods to display video samples in XAML using either SurfaceImageSource\r\n\r\n```c#\r\nvar image = new SurfaceImageSource((int)previewProps.Width, (int)previewProps.Height);\r\nvar imagePresenter = MediaSamplePresenter.CreateFromSurfaceImageSource(image, graphicsDevice);\r\nvar imagePresenter.Present(sample);\r\n```\r\n\r\nor SwapChainPanel\r\n\r\n```c#\r\nvar swapChainPresenter = MediaSamplePresenter.CreateFromSwapChainPanel(\r\n    SwapChainPreview,\r\n    graphicsDevice,\r\n    (int)previewProps.Width,\r\n    (int)previewProps.Height\r\n    );\r\nswapChainPresenter.Present(sample);\r\n```\r\n","google":"UA-55657833-1","note":"Don't delete this file! It's used internally to help with page regeneration."}